# 临床分层分析报告

## 分析说明

### 为什么需要分层分析？

在临床研究中，直接比较治疗前后的变化可能产生误导，原因如下：

1. **天花板效应 (Ceiling Effect)**：如果基线值已经在正常范围内，
   改善空间有限，即使治疗有效也难以观察到统计显著差异。

2. **地板效应 (Floor Effect)**：对于'越低越好'的指标（如ALT），
   基线正常者已经处于最佳状态。

3. **效应修饰 (Effect Modification)**：治疗效果可能因基线状态而异，
   基线异常者可能获益更多。

### 分析策略

| 分析类型 | 说明 | 临床意义 |
|----------|------|----------|
| 全人群分析 | 所有患者的治疗效果 | 整体疗效评估 |
| 基线异常亚组 | 仅分析基线异常患者 | 真正需要治疗的人群 |
| 基线正常亚组 | 仅分析基线正常患者 | 维护效果评估 |
| 复常率分析 | 异常→正常的比例 | 治愈效果 |
| 维持率分析 | 正常→正常的比例 | 稳定效果 |
| 效应修饰检验 | 交互作用检验 | 疗效是否因人而异 |

---

## 各指标分析结果

### ALT

- 正常范围: 7-40 (lower_better)

| 分层 | N | 治疗组变化 | 对照组变化 | 组间P值 |
|------|---|-----------|-----------|---------|
| 全人群 | 265 | 0.38 | 1.34 | 0.5184 |
| 基线异常偏高 | 23 | -0.55 | -7.00 | 0.3681 |
| 基线正常 | 242 | 0.47 | 2.09 | 0.2708 |

**复常率**: 治疗组 46.2% vs 对照组 60.0% (P=0.6802)
**维持率**: 治疗组 93.1% vs 对照组 90.1% (P=0.4840)
**效应修饰检验**: P=0.1241 - 基线状态不影响治疗效果

---

### AST

- 正常范围: 13-35 (lower_better)

| 分层 | N | 治疗组变化 | 对照组变化 | 组间P值 |
|------|---|-----------|-----------|---------|
| 全人群 | 265 | 0.71 | 1.26 | 0.6049 |
| 基线异常偏高 | 18 | -6.02 | 7.57 | 0.2686 |
| 基线正常 | 247 | 1.27 | 0.88 | 0.6586 |

**复常率**: 治疗组 63.6% vs 对照组 57.1% (P=1.0000)
**维持率**: 治疗组 94.0% vs 对照组 94.7% (P=1.0000)
**效应修饰检验**: P=0.0011 - 基线状态影响治疗效果

---

### GGT

- 正常范围: 7-45 (lower_better)

| 分层 | N | 治疗组变化 | 对照组变化 | 组间P值 |
|------|---|-----------|-----------|---------|
| 全人群 | 265 | 2.99 | 1.03 | 0.4011 |
| 基线异常偏高 | 44 | -6.29 | -10.06 | 0.6744 |
| 基线正常 | 221 | 5.22 | 2.72 | 0.2094 |

**复常率**: 治疗组 50.0% vs 对照组 56.2% (P=0.7606)
**维持率**: 治疗组 86.2% vs 对照组 94.3% (P=0.0700)
**效应修饰检验**: P=0.8451 - 基线状态不影响治疗效果

---

### ALP

- 正常范围: 35-100 (lower_better)

| 分层 | N | 治疗组变化 | 对照组变化 | 组间P值 |
|------|---|-----------|-----------|---------|
| 全人群 | 266 | -1.75 | -5.65 | 0.3872 |
| 基线异常偏高 | 35 | -11.64 | -55.31 | 0.2547 |
| 基线正常 | 226 | -0.09 | 0.20 | 0.8842 |
| 基线异常偏低 | 5 | 3.25 | nan | - |

**复常率**: 治疗组 50.0% vs 对照组 69.2% (P=0.3120)
**维持率**: 治疗组 96.6% vs 对照组 95.3% (P=0.7387)
**效应修饰检验**: P=0.0003 - 基线状态影响治疗效果

---

### 白蛋白

- 正常范围: 40-55 (higher_better)

| 分层 | N | 治疗组变化 | 对照组变化 | 组间P值 |
|------|---|-----------|-----------|---------|
| 全人群 | 268 | -0.02 | 0.09 | 0.7617 |
| 基线正常 | 263 | -0.08 | 0.01 | 0.8176 |

**维持率**: 治疗组 99.3% vs 对照组 99.2% (P=1.0000)
**效应修饰检验**: P=nan - 基线状态不影响治疗效果

---

### 胆红素

- 正常范围: 3.4-17.1 (lower_better)

| 分层 | N | 治疗组变化 | 对照组变化 | 组间P值 |
|------|---|-----------|-----------|---------|
| 全人群 | 265 | -0.16 | 1.87 | 0.0461 |
| 基线异常偏高 | 82 | -2.63 | -0.37 | 0.3523 |
| 基线正常 | 183 | 1.08 | 2.74 | 0.0599 |

**复常率**: 治疗组 43.8% vs 对照组 29.4% (P=0.2489)
**维持率**: 治疗组 84.4% vs 对照组 85.1% (P=1.0000)
**效应修饰检验**: P=0.7887 - 基线状态不影响治疗效果

---

### 肝硬度值

- 正常范围: 2.5-7.0 (lower_better)

| 分层 | N | 治疗组变化 | 对照组变化 | 组间P值 |
|------|---|-----------|-----------|---------|
| 全人群 | 195 | -3.75 | -3.06 | 0.2336 |
| 基线异常偏高 | 149 | -4.54 | -3.71 | 0.2407 |
| 基线正常 | 46 | -1.34 | -0.70 | 0.0391 |

**复常率**: 治疗组 51.6% vs 对照组 44.8% (P=0.5018)
**维持率**: 治疗组 100.0% vs 对照组 100.0% (P=1.0000)
**效应修饰检验**: P=0.8975 - 基线状态不影响治疗效果

---

### 血小板

- 正常范围: 125-350 (higher_better)

| 分层 | N | 治疗组变化 | 对照组变化 | 组间P值 |
|------|---|-----------|-----------|---------|
| 全人群 | 175 | 6.52 | 0.14 | 0.1282 |
| 基线正常 | 127 | 4.03 | -1.33 | 0.2711 |
| 基线异常偏低 | 47 | 11.84 | 8.40 | 0.7364 |

**维持率**: 治疗组 93.7% vs 对照组 97.9% (P=0.4076)
**效应修饰检验**: P=nan - 基线状态不影响治疗效果

---

### HBsAg

- 正常范围: 0-0.05 (lower_better)

| 分层 | N | 治疗组变化 | 对照组变化 | 组间P值 |
|------|---|-----------|-----------|---------|
| 全人群 | 236 | 204.78 | -396.71 | 0.0603 |
| 基线异常偏高 | 235 | 206.38 | -396.71 | 0.0611 |

**复常率**: 治疗组 0.8% vs 对照组 0.9% (P=1.0000)
**维持率**: 治疗组 100.0% vs 对照组 nan% (P=nan)
**效应修饰检验**: P=0.7868 - 基线状态不影响治疗效果

---

## 统计学方法说明

### 1. 分层分析原理

根据基线值是否在正常范围内，将患者分为不同亚组分别分析：

$$\text{基线状态} = \begin{cases} \text{正常} & \text{if } L-\delta \leq X_0 \leq U+\delta \\ \text{异常偏高} & \text{if } X_0 > U+\delta \\ \text{异常偏低} & \text{if } X_0 < L-\delta \end{cases}$$

其中 $L$ 为正常下限，$U$ 为正常上限，$\delta$ 为容忍度（通常取2）。

### 2. 复常率计算

$$\text{复常率} = \frac{\text{基线异常且终点正常的例数}}{\text{基线异常的例数}} \times 100\%$$

### 3. 维持率计算

$$\text{维持率} = \frac{\text{基线正常且终点仍正常的例数}}{\text{基线正常的例数}} \times 100\%$$

### 4. 效应修饰检验

使用包含交互项的线性回归模型：

$$\Delta Y = \beta_0 + \beta_1 \cdot T + \beta_2 \cdot A + \beta_3 \cdot (T \times A) + \varepsilon$$

其中：
- $\Delta Y$ = 终点值 - 基线值
- $T$ = 治疗组指示变量 (1=治疗组, 0=对照组)
- $A$ = 基线异常指示变量 (1=异常, 0=正常)
- $\beta_3$ = 交互作用系数

如果 $\beta_3$ 的P值 < 0.05，说明存在效应修饰，即治疗效果在基线异常和正常人群中不同。

### 5. 结果解读建议

| 情景 | 全人群P值 | 基线异常亚组P值 | 解读 |
|------|----------|----------------|------|
| A | <0.05 | <0.05 | 治疗有效 |
| B | >0.05 | <0.05 | 治疗对异常者有效，全人群被正常者稀释 |
| C | <0.05 | >0.05 | 需审慎解读，可能有混杂 |
| D | >0.05 | >0.05 | 治疗可能无效 |

**情景B是本分析着重解决的问题**：当基线正常的患者占比较高时，
全人群分析可能错误地得出'治疗无效'的结论。
